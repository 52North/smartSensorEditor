<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:lang="http://www.springframework.org/schema/lang"
        xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang-3.0.xsd
        http://www.springframework.org/schema/aop  http://www.springframework.org/schema/aop/spring-aop-3.0.xsd">

 <lang:groovy id="smlLongName" script-source="classpath:groovy/SmlLongNameBean.groovy">
		<lang:property name="transformToISO" value="/xslt/SmlLongName_sml.xslt" />
		<lang:property name="transformToBean" value="/xslt/SmlLongName_bean.xslt" />
	</lang:groovy>
	 <lang:groovy id="smlShortName" script-source="classpath:groovy/SmlShortNameBean.groovy">
		<lang:property name="transformToISO" value="/xslt/SmlShortName_sml.xslt" />
		<lang:property name="transformToBean" value="/xslt/SmlShortName_bean.xslt" />
	</lang:groovy>
	 <lang:groovy id="smlUniqueID" script-source="classpath:groovy/SmlUniqueIDBean.groovy">
		<lang:property name="transformToISO" value="/xslt/SmlUniqueID_sml.xslt" />
		<lang:property name="transformToBean" value="/xslt/SmlUniqueID_bean.xslt" />
	</lang:groovy>
	<lang:groovy id="smlKeyword" script-source="classpath:groovy/SmlKeywordBean.groovy"
		 />
	<bean id="multiSmlKeyword" class="de.conterra.smarteditor.beans.MultipleElementBean">
		<property name="transformToISO" value="/xslt/SmlKeyword_sml.xslt" />
		<property name="transformToBean" value="/xslt/SmlKeyword_bean.xslt" />
		<property name="bean" ref="smlKeyword" />
		</bean>
    <bean id="beanTransformerService" class="de.conterra.smarteditor.service.BeanTransformerService">
        <property name="multiElementName" value="multi_container"/>
        <property name="xsltTransformer" ref="xsltTransformerService"/>
    </bean>

     <bean id="xsltTransformerService" class="de.conterra.smarteditor.service.XSLTTransformerService" init-method="init">
        <property name="transformerFactoryClassName" value="net.sf.saxon.TransformerFactoryImpl"/>
        <property name="outputKeys">
            <map>
                <entry key="encoding" value="UTF-8"/>
                <entry key="omit-xml-declaration" value="yes"/>
                <entry key="indent" value="no"/>
            </map>
        </property>
    </bean>
      
      <bean id="smlValidator" class="de.conterra.smarteditor.validator.SchematronValidator">
        <property name="id" value="smlValidator"/>
        <property name="rulessetSystemID" value="/validation/SensorML_Profile_for_Discovery.xslt"/>
    </bean>
    <bean id="backendSetupService" class="de.conterra.smarteditor.service.BackendManagerService"
		>
		<aop:scoped-proxy />
		<property name="validators">
			<map>
				<entry key="smlValidator" value-ref="smlValidator" />
			</map>
		</property>
		<property name="backend" ref="backendBean" />
		<property name="beanTransformer" ref="beanTransformerService" />
		<property name="xsltTransformer" ref="xsltTransformerService" />
		<!-- <property name="activeBeanNamesRegex" ref="sensor_"/> -->
		<property name="activeBeanNamesRegex">
			<props>
					<prop key="sensor">(sml\w+)|(\w+sml)</prop>
				<prop key="dataset">!(sml)</prop>
			</props>
		</property>
	</bean>
	<!--  beans from beans-definitions-->
<!-- 	<bean id="backendBean" class="de.conterra.smarteditor.beans.BackendBean"
		>
		<aop:scoped-proxy />
		<property name="validatorId" value="smlValidator" />
		<property name="stickyErrorMessages" value="false" />
		default validator id
		<property name="storage">
			<map>
				<entry key="smlKeyword" value-ref="multiSmlKeyword" />
				<entry key="smlLongName" value-ref="smlLongName" />
				<entry key="smlShortName" value-ref="smlShortName" />
				<entry key="smlUniqueID" value-ref="smlUniqueID" />
			</map>
		</property>
	</bean> -->

   
 
    <!--  beans from beans-definitions-->
   	<bean id="fileIdentifier" class="de.conterra.smarteditor.beans.FileIdentifierBean"
		>
		<property name="transformToISO" value="/xslt/FileIdentifier_iso.xslt" />
		<property name="transformToBean" value="/xslt/FileIdentifier_bean.xslt" />
	</bean>

	<lang:groovy id="metadataCharset" script-source="classpath:groovy/CodeListBean.groovy"
		>
		<lang:property name="transformToISO" value="/xslt/MetadataCharset_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/MetadataCharset_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="geodataLink" script-source="classpath:groovy/GeodataLinkBean.groovy"
		>
		<lang:property name="transformToISO" value="/xslt/GeodataLink_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/GeodataLink_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="metadataLanguage" script-source="classpath:groovy/CodeListBean.groovy"
		>
		<lang:property name="transformToISO" value="/xslt/MetadataLanguage_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/MetadataLanguage_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="metadataStandard"
		script-source="classpath:groovy/MetadataStandardBean.groovy" >
		<lang:property name="transformToISO" value="/xslt/MetadataStandard_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/MetadataStandard_bean.xslt" />
	</lang:groovy>

	<bean id="dateStamp" class="de.conterra.smarteditor.beans.DateBean"
		>
		<property name="transformToISO" value="/xslt/DateStamp_iso.xslt" />
		<property name="transformToBean" value="/xslt/DateStamp_bean.xslt" />
	</bean>

	<lang:groovy id="resourceAbstract"
		script-source="classpath:groovy/ResourceAbstractBean.groovy" >
		<lang:property name="transformToISO" value="/xslt/ResourceAbstract_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/ResourceAbstract_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="resourceTitle" script-source="classpath:groovy/ResourceTitleBean.groovy"
		>
		<lang:property name="transformToISO" value="/xslt/ResourceTitle_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/ResourceTitle_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="parentIdentifier"
		script-source="classpath:groovy/ParentIdentifierBean.groovy" >
		<lang:property name="transformToISO" value="/xslt/ParentIdentifier_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/ParentIdentifier_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="topicCategory" script-source="classpath:groovy/TopicCategoryBean.groovy"
		>
		<lang:property name="transformToISO" value="/xslt/TopicCategory_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/TopicCategory_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="serviceType" script-source="classpath:groovy/ServiceTypeBean.groovy"
		>
		<lang:property name="transformToISO" value="/xslt/ServiceType_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/ServiceType_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="serviceTypeVersion"
		script-source="classpath:groovy/ServiceTypeVersionBean.groovy"  />
	<bean id="multiServiceTypeVersion" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ServiceTypeVersion_iso.xslt" />
		<property name="transformToBean" value="/xslt/ServiceTypeVersion_bean.xslt" />
		<property name="bean" ref="serviceTypeVersion" />
	</bean>

	<lang:groovy id="lineageStatement" script-source="classpath:groovy/LineageBean.groovy"
		>
		<lang:property name="transformToISO" value="/xslt/Lineage_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/Lineage_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="couplingType" script-source="classpath:groovy/CodeListBean.groovy"
		>
		<lang:property name="transformToISO" value="/xslt/CouplingType_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/CouplingType_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="hierarchyLevel" script-source="classpath:groovy/CodeListBean.groovy"
		 />
	<bean id="multiHierarchyLevel" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/HierarchyLevel_iso.xslt" />
		<property name="transformToBean" value="/xslt/HierarchyLevel_bean.xslt" />
		<property name="bean" ref="hierarchyLevel" />
	</bean>

	<bean id="hierarchyLevelName" class="de.conterra.smarteditor.beans.HierarchyLevelNameBean"
		 />

	<bean id="multiHierarchyLevelName" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/HierarchyLevelName_iso.xslt" />
		<property name="transformToBean" value="/xslt/HierarchyLevelName_bean.xslt" />
		<property name="bean" ref="hierarchyLevelName" />
	</bean>

	<lang:groovy id="operation"
		script-source="classpath:groovy/ContainsOperationsBean.groovy"  />
	<bean id="multiOperations" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ContainsOperations_iso.xslt" />
		<property name="transformToBean" value="/xslt/ContainsOperations_bean.xslt" />
		<property name="bean" ref="operation" />
	</bean>

	<lang:groovy id="resourceIdentifier" script-source="classpath:groovy/IdentifierBean.groovy"
		 />
	<bean id="multiResIdentifier" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ResourceIdentifier_iso.xslt" />
		<property name="transformToBean" value="/xslt/ResourceIdentifier_bean.xslt" />
		<property name="bean" ref="resourceIdentifier" />
	</bean>

	<lang:groovy id="geographicIdentifier" script-source="classpath:groovy/IdentifierBean.groovy"
		 />
	<bean id="multiGeographicIdentifier" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/GeographicIdentifier_iso.xslt" />
		<property name="transformToBean" value="/xslt/GeographicIdentifier_bean.xslt" />
		<property name="bean" ref="geographicIdentifier" />
	</bean>

	<lang:groovy id="coupledResource"
		script-source="classpath:groovy/CoupledResourceBean.groovy"  />
	<bean id="multiCoupledResource" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/CoupledResource_iso.xslt" />
		<property name="transformToBean" value="/xslt/CoupledResource_bean.xslt" />
		<property name="bean" ref="coupledResource" />
	</bean>

	<lang:groovy id="geographicExtent"
		script-source="classpath:groovy/GeographicExtentBean.groovy"  />
	<bean id="multiBBox" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/GeographicExtent_iso.xslt" />
		<property name="transformToBean" value="/xslt/GeographicExtent_bean.xslt" />
		<property name="bean" ref="geographicExtent" />
	</bean>

	<lang:groovy id="distributorParty"
		script-source="classpath:groovy/ResponsiblePartyBean.groovy"  />
	<bean id="multiDistributorParty" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/DistributorResponsibleParty_iso.xslt" />
		<property name="transformToBean" value="/xslt/DistributorResponsibleParty_bean.xslt" />
		<property name="bean" ref="distributorParty" />
	</bean>

	<lang:groovy id="resourceParty"
		script-source="classpath:groovy/ResponsiblePartyBean.groovy"  />
	<bean id="multiResourceParty" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ResourceResponsibleParty_iso.xslt" />
		<property name="transformToBean" value="/xslt/ResourceResponsibleParty_bean.xslt" />
		<property name="bean" ref="resourceParty" />
	</bean>

	<lang:groovy id="metadataParty"
		script-source="classpath:groovy/ResponsiblePartyBean.groovy"  />
	<bean id="multiMetadataParty" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/MetadataResponsibleParty_iso.xslt" />
		<property name="transformToBean" value="/xslt/MetadataResponsibleParty_bean.xslt" />
		<property name="bean" ref="metadataParty" />
	</bean>

	<lang:groovy id="browseGraphics"
		script-source="classpath:groovy/BrowseGraphicsBean.groovy"  />
	<bean id="multiBrowseGraphics" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/BrowseGraphics_iso.xslt" />
		<property name="transformToBean" value="/xslt/BrowseGraphics_bean.xslt" />
		<property name="bean" ref="browseGraphics" />
	</bean>

	<lang:groovy id="resourceCharset" script-source="classpath:groovy/CodeListBean.groovy"
		 />
	<bean id="multiResourceCharset" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ResourceCharset_iso.xslt" />
		<property name="transformToBean" value="/xslt/ResourceCharset_bean.xslt" />
		<property name="bean" ref="resourceCharset" />
	</bean>

	<lang:groovy id="resourceLanguage" script-source="classpath:groovy/CodeListBean.groovy"
		 />
	<bean id="multiResourceLanguage" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ResourceLanguage_iso.xslt" />
		<property name="transformToBean" value="/xslt/ResourceLanguage_bean.xslt" />
		<property name="bean" ref="resourceLanguage" />
	</bean>

	<lang:groovy id="spatialRepresentationType" script-source="classpath:groovy/CodeListBean.groovy"
		 />
	<bean id="multiSpatialRepresentationType" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/SpatialRepresentationType_iso.xslt" />
		<property name="transformToBean" value="/xslt/SpatialRepresentationType_bean.xslt" />
		<property name="bean" ref="spatialRepresentationType" />
	</bean>

	<bean id="resourceDate" class="de.conterra.smarteditor.beans.DateBean"
		 />
	<bean id="multiResourceDate" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ResourceDate_iso.xslt" />
		<property name="transformToBean" value="/xslt/ResourceDate_bean.xslt" />
		<property name="bean" ref="resourceDate" />
	</bean>

	<lang:groovy id="referenceSystem" script-source="classpath:groovy/IdentifierBean.groovy"
		 />
	<bean id="multiReferenceSystem" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ReferenceSystem_iso.xslt" />
		<property name="transformToBean" value="/xslt/ReferenceSystem_bean.xslt" />
		<property name="bean" ref="referenceSystem" />
	</bean>

	<lang:groovy id="transferOptions"
		script-source="classpath:groovy/OnlineResourceBean.groovy"  />
	<bean id="multiTransferOptions" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/TransferOptions_iso.xslt" />
		<property name="transformToBean" value="/xslt/TransferOptions_bean.xslt" />
		<property name="bean" ref="transferOptions" />
	</bean>

	<lang:groovy id="legalConstraints"
		script-source="classpath:groovy/LegalConstraintsBean.groovy" >
		<lang:property name="transformToISO" value="/xslt/LegalConstraints_iso.xslt" />
		<lang:property name="transformToBean" value="/xslt/LegalConstraints_bean.xslt" />
	</lang:groovy>

	<lang:groovy id="securityConstraints"
		script-source="classpath:groovy/SecurityConstraintsBean.groovy"  />
	<bean id="multiClassification" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/Classification_iso.xslt" />
		<property name="transformToBean" value="/xslt/Classification_bean.xslt" />
		<property name="bean" ref="securityConstraints" />
	</bean>

	<lang:groovy id="keywords"
		script-source="classpath:groovy/DescriptiveKeywordsBean.groovy"  />
	<bean id="multiKeywords" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/DescriptiveKeywords_iso.xslt" />
		<property name="transformToBean" value="/xslt/DescriptiveKeywords_bean.xslt" />
		<property name="bean" ref="keywords" />
	</bean>

	<lang:groovy id="temporalExtent"
		script-source="classpath:groovy/TemporalExtentBean.groovy"  />
	<bean id="multiTemporalExtent" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/TemporalExtent_iso.xslt" />
		<property name="transformToBean" value="/xslt/TemporalExtent_bean.xslt" />
		<property name="bean" ref="temporalExtent" />
	</bean>

	<lang:groovy id="distributorFormat" script-source="classpath:groovy/FormatBean.groovy"
		 />
	<bean id="multiDistributorFormat" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/DistributorFormat_iso.xslt" />
		<property name="transformToBean" value="/xslt/DistributorFormat_bean.xslt" />
		<property name="bean" ref="distributorFormat" />
	</bean>

	<lang:groovy id="resourceFormat" script-source="classpath:groovy/FormatBean.groovy"
		 />
	<bean id="multiResourceFormat" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ResourceFormat_iso.xslt" />
		<property name="transformToBean" value="/xslt/ResourceFormat_bean.xslt" />
		<property name="bean" ref="resourceFormat" />
	</bean>

	<lang:groovy id="spatialResolution"
		script-source="classpath:groovy/SpatialResolutionBean.groovy"  />
	<bean id="multiSpatialResolution" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/SpatialResolution_iso.xslt" />
		<property name="transformToBean" value="/xslt/SpatialResolution_bean.xslt" />
		<property name="bean" ref="spatialResolution" />
	</bean>

	<lang:groovy id="conformity" script-source="classpath:groovy/ConformityBean.groovy"
		 />
	<bean id="multiConformity" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/Conformity_iso.xslt" />
		<property name="transformToBean" value="/xslt/Conformity_bean.xslt" />
		<property name="bean" ref="conformity" />
	</bean>

	<lang:groovy id="resourceMaintenance"
		script-source="classpath:groovy/ResourceMaintenanceBean.groovy"  />
	<bean id="multiResourceMaintenance" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/ResourceMaintenance_iso.xslt" />
		<property name="transformToBean" value="/xslt/ResourceMaintenance_bean.xslt" />
		<property name="bean" ref="resourceMaintenance" />
	</bean>

	<lang:groovy id="alternateTitle"
		script-source="classpath:groovy/AlternateTitleBean.groovy"  />
	<bean id="multiAlternateTitle" class="de.conterra.smarteditor.beans.MultipleElementBean"
		>
		<property name="transformToISO" value="/xslt/AlternateTitle_iso.xslt" />
		<property name="transformToBean" value="/xslt/AlternateTitle_bean.xslt" />
		<property name="bean" ref="alternateTitle" />
	</bean>

	
	<bean id="backendBean" class="de.conterra.smarteditor.beans.BackendBean"
		>
		<aop:scoped-proxy />
		<property name="validatorId" value="smlValidator" />
		<property name="stickyErrorMessages" value="false" />
		<!-- default validator id -->
		<property name="storage">
			<map>
				<entry key="resourceTitle" value-ref="resourceTitle" />
				<entry key="resourceAbstract" value-ref="resourceAbstract" />
				<entry key="resourceIdentifier" value-ref="multiResIdentifier" />
				<entry key="resourceParty" value-ref="multiResourceParty" />
				<entry key="resourceCharset" value-ref="multiResourceCharset" />
				<entry key="resourceLanguage" value-ref="multiResourceLanguage" />
				<entry key="resourceDate" value-ref="multiResourceDate" />
				<entry key="dateStamp" value-ref="dateStamp" />
				<entry key="metadataParty" value-ref="multiMetadataParty" />
				<entry key="metadataCharset" value-ref="metadataCharset" />
				<entry key="metadataLanguage" value-ref="metadataLanguage" />
				<entry key="metadataStandard" value-ref="metadataStandard" />
				<entry key="topicCategory" value-ref="topicCategory" />
				<entry key="geographicExtent" value-ref="multiBBox" />
				<entry key="browseGraphics" value-ref="multiBrowseGraphics" />
				<entry key="spatialRepresentationType" value-ref="multiSpatialRepresentationType" />
				<entry key="referenceSystem" value-ref="multiReferenceSystem" />
				<entry key="geographicIdentifier" value-ref="multiGeographicIdentifier" />
				<entry key="transferOptions" value-ref="multiTransferOptions" />
				<entry key="serviceType" value-ref="serviceType" />
				<entry key="serviceTypeVersion" value-ref="multiServiceTypeVersion" />
				<entry key="couplingType" value-ref="couplingType" />
				<entry key="legalConstraints" value-ref="legalConstraints" />
				<entry key="classification" value-ref="multiClassification" />
				<entry key="keywords" value-ref="multiKeywords" />
				<entry key="temporalExtent" value-ref="multiTemporalExtent" />
				<entry key="distributorFormat" value-ref="multiDistributorFormat" />
				<entry key="distributorParty" value-ref="multiDistributorParty" />
				<entry key="geodataLink" value-ref="geodataLink" />
				<entry key="lineageStatement" value-ref="lineageStatement" />
				<entry key="spatialResolution" value-ref="multiSpatialResolution" />
				<entry key="conformity" value-ref="multiConformity" />
				<entry key="fileIdentifier" value-ref="fileIdentifier" />
				<entry key="parentIdentifier" value-ref="parentIdentifier" />
				<entry key="hierarchyLevel" value-ref="multiHierarchyLevel" />
				<entry key="hierarchyLevelNames" value-ref="multiHierarchyLevelName" />
				<entry key="coupledResource" value-ref="multiCoupledResource" />
				<entry key="containsOperation" value-ref="multiOperations" />
				<entry key="resourceMaintenance" value-ref="multiResourceMaintenance" />
				<entry key="alternateTitle" value-ref="multiAlternateTitle" />
				<entry key="smlKeyword" value-ref="multiSmlKeyword" />
				<entry key="smlLongName" value-ref="smlLongName" />
				<entry key="smlShortName" value-ref="smlShortName" />
				<entry key="smlUniqueID" value-ref="smlUniqueID" />
			</map>
		</property>
	</bean>
</beans>

